<ion-content scrollY="false">
    <ww-header title="Add Child" [settingsActive]="false" [backRoute]="'../manage-children'"/>
    <form [formGroup]="form" (ngSubmit)="submit()">
        <div class="overlay-container" [class.hidden-overlay]="!visible">
            <div class="overlay">
                <div class="selected-outer">
                    <div class="selected-image">
                        <ion-avatar class="custom-avatar" *ngIf="selectedImage; else unselected">
                            <ion-img
                            src="{{selectedImage}}" />
                        </ion-avatar>
                        <ng-template #unselected>
                            <div class="unselected">
                                <ion-icon src="assets/svg/person-outline.svg"></ion-icon>
                            </div>
                        </ng-template>
                    </div>
                </div>
                <ion-grid>
                    <ion-row>
                        <ion-col size="12" class="close">
                            <ion-icon src="assets/svg/close-outline.svg" id="close-modal" class="close-icon" (click)="controlModal()"></ion-icon>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="12" class="modal-header">
                            <p class="pick-text">Pick an Image</p>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="4" *ngFor="let i of pictures">
                            <ion-item style="--border-width:0" (click)="chooseImage(i)" class="img-item">
                                <label htmlFor="img">
                                    <ion-avatar slot="start" class="check-img">
                                    <ion-img
                                    src="{{i}}" />
                                    </ion-avatar>
                                </label>
                                <ion-radio slot="end" id="img" class="hidden-radio"></ion-radio>
                            </ion-item>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </div>
        </div>
        <div class="container">
            <ion-button class="add-picture" (click)="controlModal()" *ngIf="!selectedImage; else selected">
                <ion-icon [ngStyle]="{'font-size': '128px'}" slot="icon-only" src="assets/svg/add-outline.svg"></ion-icon>
            </ion-button>
            <ng-template #selected>
                <ion-avatar class="custom-avatar-button" (click)="controlModal()">
                    <ion-img
                    src="{{selectedImage}}" />
                </ion-avatar>
            </ng-template>
        </div>
        <div>
            <label htmlFor="name">Name:</label><br>
            <input type="text" id="name" formControlName="name" class="test"/>
        </div>
        <div>
            <label htmlFor="age">Age:</label><br>
            <input type="number" id="age" formControlName="age" class="test1"/>
        </div>
        <ion-button [disabled]="!form.valid || !selectedImage" type="submit" class="submit-btn">Next</ion-button>
    </form>
</ion-content>
